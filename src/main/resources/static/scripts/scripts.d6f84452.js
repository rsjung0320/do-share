"use strict";angular.module("appApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","summernote","ngSanitize"]).config(["$routeProvider","$httpProvider",function(a,b){a.when("/",{templateUrl:"views/main/main.html",controller:"MainCtrl",controllerAs:"main/main"}).when("/about",{templateUrl:"views/about/about.html",controller:"AboutCtrl",controllerAs:"about/about",authenticated:!0}).when("/login",{templateUrl:"views/login/login.html",controller:"LoginCtrl",controllerAs:"login/login"}).when("/signup",{templateUrl:"views/signup/signup.html",controller:"SignupCtrl",controllerAs:"signup/signup"}).when("/board/boardlist",{templateUrl:"views/board/boardlist.html",controller:"BoardlistCtrl",controllerAs:"board/boardlist"}).when("/board/:idx",{templateUrl:"views/board/board.html",controller:"BoardCtrl",controllerAs:"board/board"}).otherwise({redirectTo:"/"}),b.defaults.useXDomain=!0,b.defaults.headers.common="Content-Type: application/json; charset=utf-8",delete b.defaults.headers.common["X-Requested-With"]}]).controller("IndexCtrl",["$scope","$http","$location","$rootScope",function(a,b,c,d){a.currentPath="/",d.$on("$locationChangeStart",function(){a.currentPath=c.path(),"/"!==a.currentPath?$(".navbar-default").css("background-color","#FFFFFF"):$(".navbar-default").css("background-color","rgba(255, 255, 255, .0 )")}),a.init=function(){},a.init(),$(window).scroll(function(){var b=$(window).scrollTop();"/"===a.currentPath&&(b>=100?$(".navbar-default").css("background-color","#FFFFFF"):($(".navbar-default").css("background-color","rgba(255, 255, 255, .0 )"),console.log("!!!!!!!!!!")))})}]),angular.module("appApp").controller("MainCtrl",["$scope","$http","$location",function(a,b,c){a.init=function(){console.log("MainCtrl init"),b({url:"http://localhost:8080/api/v1/board/all",method:"GET"}).success(function(b){a.boards=b,console.log("board : ",b)}).error(function(a){console.log("error : ",a)})},a.init()}]),angular.module("appApp").controller("AboutCtrl",["$scope","$http","$httpParamSerializerJQLike","$location",function(a,b,c,d){a.content="",a.init=function(){},a.change=function(b){a.content=b},a.imageUpload=function(c){var d=new FormData;d.append("file",c[0]),b({url:"http://localhost:8080/api/v1/board/upload/image",method:"POST",data:d,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(b){if(console.log(b),""!==b){var c="http://localhost:8080/api/v1/board/download/"+b;a.editor.summernote("editor.insertImage",c,b)}}).error(function(a){console.log("error : ",a)})},a.uploadBoard=function(){console.log("uploadBoard : ",a.content),""!==a.content&&b({url:"http://localhost:8080/api/v1/board/upload/board",method:"POST",data:{title:a.title,email:"rsjung@nablecomm.com",uploadDate:new Date,content:a.content}}).success(function(a){d.path("/board/boardlist"),console.log(a)}).error(function(a){console.log("error : ",a)})}}]),angular.module("appApp").controller("LoginCtrl",["$scope","$http","$location",function(a,b,c){function d(a,b){var c=!1;return(""===a||null===a||""===b||null===b)&&(c=!0),c}a.authorization="",a.submit=function(){var e=a.user.email,f=a.user.password;!d(e,f),b({url:"http://localhost:8080/api/v1/login/signin",method:"POST",data:{email:a.user.email,password:a.user.password}}).success(function(d){a.authorization="Bearer "+d,b.defaults.headers.common={Authorization:a.authorization},c.path("/")}).error(function(a){console.log("error!!"),console.log(a)})},a.signUp=function(){c.path("/signup")},a.test1=function(){b({url:"http://localhost:8080/admin/api/user4",method:"GET"}).success(function(a){console.log("resp : "+a)}).error(function(a){console.log("error : "+a)})}}]),angular.module("appApp").controller("SignupCtrl",["$scope","$http","$location",function(a,b,c){a.submit=function(){console.log("userName : "+a.user.userName),console.log("email : "+a.user.email),console.log("password : "+a.user.password),console.log("confirmPassword : "+a.user.confirmPassword),b({url:"http://localhost:8080/api/v1/login/signup",method:"POST",data:{name:a.user.userName,email:a.user.email,password:a.user.password}}).success(function(d){a.authorization="Bearer "+d,b.defaults.headers.common={Authorization:a.authorization},c.path("/login")}).error(function(a){console.log("error!!"),console.log(a)})}}]),angular.module("appApp").controller("BoardlistCtrl",["$scope","$http","$location",function(a,b,c){a.init=function(){b({url:"http://localhost:8080/api/v1/board/all",method:"GET"}).success(function(b){a.boards=b,console.log("board : ",b)}).error(function(a){console.log("error : ",a)})}(),a.findById=function(a){c.path("/board/"+a)}}]),angular.module("appApp").controller("BoardCtrl",["$scope","$http","$routeParams","$sce",function(a,b,c,d){function e(){b({url:"http://localhost:8080/api/v1/board/"+a.idx,method:"GET"}).success(function(b){console.log("board : ",b),a.content=d.trustAsHtml(b.content),a.title=b.title,a.email=b.email,a.readCount=b.readCount,a.uploadDate=b.uploadDate}).error(function(a){console.log("error : ",a)})}function f(){b({url:"http://localhost:8080/api/v1/board/comment/"+a.idx,method:"GET"}).success(function(b){a.comments=b,console.log("comments : ",b)}).error(function(a){console.log("error : ",a)})}a.idx=c.idx,a.comments=null,a.init=function(){e(),f()}(),a.commentShare=function(c){""!==a.commentContent&&b({url:"http://localhost:8080/api/v1/board/comment/",method:"POST",data:{content:a.commentContent,email:"rsjung@nablecomm.com",uploadDate:new Date,board_id:a.idx}}).success(function(b){a.commentContent="",f()}).error(function(a){console.log("error : ",a)})}}]),angular.module("appApp").run(["$templateCache",function(a){a.put("views/about/about.html",'<div class="about"> <form class="form-horizontal"> <fieldset> <div class="form-group"> <div class="col-lg-11 col-lg-offset-1"> <legend>Post</legend> </div> </div> <div class="form-group"> <label for="inputTitle" class="col-lg-1 control-label">Title</label> <div class="col-lg-11"> <input type="text" ng-model="title" class="form-control" id="inputTitle" placeholder="Title"> <br> <!-- <span class="help-block">A longer block of help text that breaks onto a new line and may extend beyond one line.</span> --> </div> </div> <div class="form-group"> <label for="inputTitle" class="col-lg-1 control-label">Content</label> <div class="col-lg-11"> <summernote height="300" ng-model="text" on-change="change(contents)" on-image-upload="imageUpload(files)" editable="editable" editor="editor"></summernote> </div> </div> <div class="form-group"> <div class="col-lg-11 col-lg-offset-1"> <button type="reset" class="btn btn-default">Cancel</button> <button type="submit" class="btn btn-primary" ng-click="uploadBoard()">Submit</button> </div> </div> </fieldset> </form> </div> <!-- <div ng-bind-html="divHtmlVar"></div> -->'),a.put("views/board/board.html",'<!-- Post Content --> <article class="board"> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 con_view"> <h2 class="post-title"> {{title}} </h2> <h6> <i class="fa fa-clock-o" aria-hidden="true"> {{uploadDate | date:\'yyyy-MM-dd\'}}</i> &nbsp;&nbsp;&nbsp; <i class="fa fa-eye" aria-hidden="true"> {{readCount}}</i> &nbsp;&nbsp;&nbsp; <i class="fa fa-user" aria-hidden="true"> {{email}}</i> </h6> <hr> <element ng-bind-html="content"></element> <p>Placeholder text by <!-- <a href="http://spaceipsum.com/">Space Ipsum</a>.--> {{email}} </p> <hr> </div> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> Comment <div class="widget-area no-padding blank"> <div class="status-upload"> <form name="form" id="commentForm"> <textarea placeholder="Add Comment" ng-model="commentContent"></textarea> <button class="btn btn-success green" ng-click="commentShare(form)"> <i class="fa fa-share"></i> Share</button> </form> </div> </div> </div> </div> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div class="panel panel-white post"> <div class="post-footer"> <ul class="comments-list"> <li class="comment" ng-repeat="comment in comments | orderBy: \'uploadDate\':true "> <a class="pull-left" href="#"> <img class="avatar" src="http://bootdey.com/img/Content/user_3.jpg" alt="avatar"> </a> <div class="comment-body"> <div class="comment-heading"> <h4 class="user">{{comment.email}}</h4> <h5 class="time">{{comment.uploadDate | date:\'yyyy-MM-dd HH:mm:ss\'}}</h5> </div> <p>{{comment.content}}</p> </div> </li> </ul> </div> </div> </div> </div> </div> </div> </article>'),a.put("views/board/boardlist.html",'<!-- Main Content --> <div class="container boardlist"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div ng-repeat="board in boards | orderBy: \'uploadDate\':true "> <div class="post-preview"> <a href="" ng-click="findById(board.idx)"> <h2 class="post-title"> {{board.title}} </h2> <h3 class="post-subtitle"> Problems look mighty small from 150 miles up </h3> </a> <p class="post-meta">Posted by <a href="#/board">{{board.email}}</a> {{board.uploadDate}}</p> <!-- on September 24, 2014</p> --> </div> <hr> </div> <!-- Pager --> <ul class="pager"> <li class="next"> <a href="#/board">Older Posts &rarr;</a> </li> </ul> </div> </div> </div>'),a.put("views/login/login.html",'<div class="container login"> <div class="row"> <div class="col-md-4 col-md-offset-4"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Login via site</h3> </div> <div class="panel-body"> <form accept-charset="UTF-8" role="form" name="form" ng-submit="submit()" novalidate> <fieldset> <div class="input-group margin-bottom-sm" ng-class="{\'has-error\' : form.email.$invalid && !form.email.$pristine}"> <span class="input-group-addon"> <i class="fa fa-envelope-o fa-fw"></i> </span> <input class="form-control" type="text" placeholder="Email address" required autofocus ng-model="user.email"> </div> <div class="input-group" ng-class="{\'has-error\' : form.password.$invalid && !form.password.$pristine}"> <span class="input-group-addon"> <i class="fa fa-key fa-fw"></i> </span> <input class="form-control" type="password" placeholder="Password" required ng-model="user.password"> </div> <div class="checkbox"> <label> <input name="remember" type="checkbox" value="Remember Me"> Remember Me </label> <a class="pull-right" href="http://bootsnipp.com/password">Forgot password?</a> </div> <input class="btn btn-lg btn-success btn-block" type="submit" value="Login"> </fieldset> </form> <hr> <center> <!-- <h4>OR</h4> --> </center> <!-- <input class="btn btn-lg btn-facebook btn-block" ng-click="test()" value="Login via facebook"> --> <input class="btn btn-lg btn-signup btn-block" ng-click="signUp()" value="Sign Up"> </div> </div> </div> </div> </div>'),a.put("views/main/main.html",'<div class="mainpage"> <div class="container"> <div class="row"> <div class="left-panel" ng-repeat="board in boards"> <div class="col-md-4"> <div class="panel panel-default"> <div class="panel-body"> <div class="col-md-12"> <div class="thumbnail"> <!-- 랜덤으로 한다. --> <a href="#"><img src="http://www.istanbluegayrimenkul.com/wp-content/uploads/2014/05/image6.jpg" alt=""></a> </div> <div class="icerik-bilgi"> <a href="#"> <h2>{{board.title}}</h2> </a> <p>{{board.content}}</p> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/signup/signup.html",'<div class="container signup"> <div class="row"> <div class="col-md-4 col-md-offset-4"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Create a new account</h3> </div> <div class="panel-body"> <form accept-charset="UTF-8" role="form" name="form" ng-submit="submit()" novalidate> <fieldset> <!-- Username --> <div class="input-group margin-bottom-sm"> <span class="input-group-addon"> <i class="fa fa-user fa-fw" aria-hidden="true"></i> </span> <input class="form-control" type="text" placeholder="Username" required autofocus ng-model="user.userName"> </div> <br> <!-- Your Email --> <div class="input-group margin-bottom-sm"> <span class="input-group-addon"> <i class="fa fa-envelope-o fa-fw"></i> </span> <input class="form-control" type="text" placeholder="Email address" required ng-model="user.email"> </div> <br> <!-- Password --> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-key fa-fw"></i> </span> <input class="form-control" type="password" placeholder="Password" required ng-model="user.password"> </div> <br> <!-- Confirm Password --> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-key fa-fw"></i> </span> <input class="form-control" type="password" placeholder="Confirm Password" required ng-model="user.confirmPassword"> </div> <br> <input class="btn btn-lg btn-success btn-block" type="submit" value="Create your account"> </fieldset> </form> </div> </div> </div> </div> </div>')}]);