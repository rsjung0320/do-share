"use strict";var API=function(){var a="GET",b="POST",c="/api/v1/board/all",d="/api/v1/board/",e="/api/v1/board/all",f="/api/v1/board/comment/",g="/api/v1/board/upload/board",h="/api/v1/board/upload/edited/board",i="/api/v1/board/delete/",j="/api/v1/board/upload/image",k="/api/v1/board/download/",l="/api/v1/board/comment/";return{GET:a,POST:b,getTeam:c,getBoard:d,getBoardAll:e,getComment:f,postUploadBoard:g,postUploadEditedBoard:h,getDeleteBoard:i,postUploadImage:j,getDownloadImage:k,postComment:l}}(this),TASK_BOARD=function(){function a(a,b,c){var d=new FormData;d.append("file",c[0]),a({url:API.postUploadImage,method:API.POST,data:d,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){if(""!==a){var c=API.getDownloadImage+a;b.editor.summernote("editor.insertImage",c,a)}}).error(function(a){console.log("error : ",a)})}function b(a,b,c,d){""!==a.content&&b({url:API.postUploadBoard,method:API.POST,data:{title:a.title,email:"rsjung@nablecomm.com",uploadDate:new Date,content:a.content}}).success(function(a){c.path(d)}).error(function(a){console.log("error : ",a)})}function c(a,b,c,d,e,f){c({url:API.postUploadEditedBoard,method:API.POST,data:{idx:d,updatedDate:new Date,content:e}}).success(function(a){b.reload()}).error(function(a){console.log("error : ",a)})}function d(a,b,c){b({url:API.getDeleteBoard+c,method:API.GET}).success(function(b){a.path("/board/boardlist")}).error(function(a){console.log("error : ",a)})}return{task_imageUpload:a,task_uploadBoard:b,task_uploadEditedBoard:c,task_deleteBoard:d}}(this);angular.module("appApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngSanitize","summernote"]).config(["$routeProvider","$httpProvider",function(a,b){a.when("/",{templateUrl:"views/main/main.html",controller:"MainCtrl",controllerAs:"main/main"}).when("/about",{templateUrl:"views/about/about.html",controller:"AboutCtrl",controllerAs:"about/about",authenticated:!0}).when("/login",{templateUrl:"views/login/login.html",controller:"LoginCtrl",controllerAs:"login/login"}).when("/signup",{templateUrl:"views/signup/signup.html",controller:"SignupCtrl",controllerAs:"signup/signup"}).when("/board/boardlist",{templateUrl:"views/board/boardlist.html",controller:"BoardlistCtrl",controllerAs:"board/boardlist"}).when("/board/:idx",{templateUrl:"views/board/board.html",controller:"BoardCtrl",controllerAs:"board/board"}).otherwise({redirectTo:"/"}),b.defaults.useXDomain=!0,b.defaults.headers.common="Content-Type: application/json; charset=utf-8",delete b.defaults.headers.common["X-Requested-With"]}]).controller("IndexCtrl",["$scope","$http","$location","$rootScope","$cookies",function(a,b,c,d,e){a.currentPath="/",d.$on("$locationChangeStart",function(){a.currentPath=c.path(),"/"!==a.currentPath?$(".navbar-default").css("background-color","#FFFFFF"):$(".navbar-default").css("background-color","rgba(255, 255, 255, .0 )")}),a.init=function(){var a=new Date;a.setDate(a.getDate()+7),e.put("myFavorite","oatmeal",{expires:a});var b=e.get("myFavorite");console.log("favoriteCookie : ",b)}(),$(window).scroll(function(){var b=$(window).scrollTop();if("/"===a.currentPath)if(b>=100)$(".navbar-default").css("background-color","#FFFFFF"),console.log("=================== : ",c);else{$(".navbar-default").css("background-color","rgba(255, 255, 255, .0 )");var c=$(".navbar-toggle").attr("aria-expanded");console.log("aaaaaaaaaaaaaaaaaa : ",c)}})}]),angular.module("appApp").controller("MainCtrl",["$scope","$http","$location",function(a,b,c){a.init=function(){console.log("MainCtrl init"),b({url:API.getTeam,method:"GET"}).success(function(b){a.boards=b,console.log("board : ",b)}).error(function(a){console.log("error : ",a)})},a.init()}]),angular.module("appApp").controller("AboutCtrl",["$scope","$http","$httpParamSerializerJQLike","$location",function(a,b,c,d){a.content="",a.init=void 0,a.change=function(b){a.content=b},a.imageUpload=function(c){TASK_BOARD.task_imageUpload(b,a,c)},a.uploadBoard=function(){var c="/board/boardlist";TASK_BOARD.task_uploadBoard(a,b,d,c)}}]),angular.module("appApp").controller("LoginCtrl",["$scope","$http","$location",function(a,b,c){function d(a,b){var c=!1;return(""===a||null===a||""===b||null===b)&&(c=!0),c}a.authorization="",a.submit=function(){var e=a.user.email,f=a.user.password;!d(e,f),b({url:"http://localhost:8080/api/v1/login/signin",method:"POST",data:{email:a.user.email,password:a.user.password}}).success(function(d){a.authorization="Bearer "+d,b.defaults.headers.common={Authorization:a.authorization},c.path("/")}).error(function(a){console.log("error!!"),console.log(a)})},a.signUp=function(){c.path("/signup")},a.test1=function(){b({url:"http://localhost:8080/admin/api/user4",method:"GET"}).success(function(a){console.log("resp : "+a)}).error(function(a){console.log("error : "+a)})}}]),angular.module("appApp").controller("SignupCtrl",["$scope","$http","$location",function(a,b,c){a.submit=function(){console.log("userName : "+a.user.userName),console.log("email : "+a.user.email),console.log("password : "+a.user.password),console.log("confirmPassword : "+a.user.confirmPassword),b({url:"http://localhost:8080/api/v1/login/signup",method:"POST",data:{name:a.user.userName,email:a.user.email,password:a.user.password}}).success(function(d){a.authorization="Bearer "+d,b.defaults.headers.common={Authorization:a.authorization},c.path("/login")}).error(function(a){console.log("error!!"),console.log(a)})}}]),angular.module("appApp").controller("BoardlistCtrl",["$scope","$http","$location",function(a,b,c){a.init=function(){b({url:API.getBoardAll,method:"GET"}).success(function(b){a.boards=b,console.log("board : ",b)}).error(function(a){console.log("error : ",a)})}(),a.findById=function(a){c.path("/board/"+a)}}]),angular.module("appApp").controller("BoardCtrl",["$scope","$route","$http","$location","$routeParams","$sce",function(a,b,c,d,e,f){function g(){c({url:API.getBoard+a.idx,method:"GET"}).success(function(b){console.log("board : ",b),a.content=f.trustAsHtml(b.content),a.text=b.content,a.title=b.title,a.email=b.email,a.readCount=b.readCount,a.uploadDate=b.uploadDate}).error(function(a){console.log("error : ",a)})}function h(){c({url:API.getComment+a.idx,method:"GET"}).success(function(b){a.comments=b,console.log("comments : ",b)}).error(function(a){console.log("error : ",a)})}a.idx=e.idx,a.comments=null,a.hidden=!0,a.editedContent="",a.init=function(){g(),h()}(),a.edit=function(){a.hidden=!1},a["delete"]=function(){TASK_BOARD.task_deleteBoard(d,c,a.idx)},a.save=function(){a.hidden=!0;var d="/board/"+a.idx;TASK_BOARD.task_uploadEditedBoard(a,b,c,a.idx,a.text,d)},a.imageUpload=function(b){TASK_BOARD.task_imageUpload(c,a,b)},a.commentShare=function(b){""!==a.commentContent&&c({url:API.postComment,method:"POST",data:{content:a.commentContent,email:"rsjung@nablecomm.com",uploadDate:new Date,board_id:a.idx}}).success(function(b){a.commentContent="",h()}).error(function(a){console.log("error : ",a)})}}]),angular.module("appApp").run(["$templateCache",function(a){a.put("views/about/about.html",'<div class="container about"> <form class="form-horizontal"> <fieldset> <div class="form-group"> <div class="col-lg-11 col-lg-offset-1"> <legend>Post</legend> </div> </div> <div class="form-group"> <label for="inputTitle" class="col-lg-1 control-label">Title</label> <div class="col-lg-11"> <input type="text" ng-model="title" class="form-control" id="inputTitle" placeholder="Title"> <br> <!-- <span class="help-block">A longer block of help text that breaks onto a new line and may extend beyond one line.</span> --> </div> </div> <div class="form-group"> <label for="inputTitle" class="col-lg-1 control-label">Content</label> <div class="col-lg-11"> <summernote height="300" ng-model="text" on-change="change(contents)" on-image-upload="imageUpload(files)" editable="editable" editor="editor"></summernote> <!-- <div id="summernote">Hello Summernote</div> --> </div> </div> <div class="form-group"> <div class="col-lg-11 col-lg-offset-1"> <button type="reset" class="btn btn-default">Cancel</button> <button type="submit" class="btn btn-primary" ng-click="uploadBoard()">Submit</button> </div> </div> </fieldset> </form> </div>'),a.put("views/board/board.html",'<!-- Post Content --> <article class="board"> <div class="container"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 con_view"> <h2 class="post-title"> {{title}} </h2> <h6> <i class="fa fa-clock-o" aria-hidden="true"> {{uploadDate | date:\'yyyy-MM-dd\'}}</i> &nbsp;&nbsp;&nbsp; <i class="fa fa-eye" aria-hidden="true"> {{readCount}}</i> &nbsp;&nbsp;&nbsp; <i class="fa fa-user" aria-hidden="true"> {{email}}</i> <br> <br> <!-- to-do 본인일 때만 하도록 한다. email로 체크해도 된다.--> <button class="btn btn-info btn-xs" ng-click="edit()" ng-hide="!hidden">edit</button> <button class="btn btn-danger btn-xs" ng-click="delete()" ng-hide="!hidden">delete</button> <button class="btn btn-success btn-xs" ng-click="save()" ng-hide="hidden">save</button> </h6> <hr> <span ng-hide="!hidden"> <element ng-bind-html="content"></element> </span> <span ng-hide="hidden"> <summernote ng-hide="hidden" height="400" ng-model="text" on-change="change(contents)" on-image-upload="imageUpload(files)" editable="editable" editor="editor"></summernote> </span> <p>Placeholder text by <!-- <a href="http://spaceipsum.com/">Space Ipsum</a>.--> {{email}} </p> <hr> </div> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> Comment <div class="widget-area no-padding blank"> <div class="status-upload"> <form name="form" id="commentForm"> <textarea placeholder="Add Comment" ng-model="commentContent"></textarea> <button class="btn btn-success green" ng-click="commentShare(form)"> <i class="fa fa-share"></i> Share</button> </form> </div> </div> </div> </div> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div class="panel panel-white post"> <div class="post-footer"> <ul class="comments-list"> <li class="comment" ng-repeat="comment in comments | orderBy: \'uploadDate\':true "> <a class="pull-left" href="#"> <img class="avatar" src="http://bootdey.com/img/Content/user_3.jpg" alt="avatar"> </a> <div class="comment-body"> <div class="comment-heading"> <h4 class="user">{{comment.email}}</h4> <h5 class="time">{{comment.uploadDate | date:\'yyyy-MM-dd HH:mm:ss\'}}</h5> </div> <p>{{comment.content}}</p> </div> </li> </ul> </div> </div> </div> </div> </div> </div> </article>'),a.put("views/board/boardlist.html",'<!-- Main Content --> <div class="container boardlist"> <div class="row"> <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> <div ng-repeat="board in boards | orderBy: \'uploadDate\':true "> <div class="post-preview"> <a href="" ng-click="findById(board.idx)"> <h2 class="post-title"> {{board.title}} </h2> <h3 class="post-subtitle"> Problems look mighty small from 150 miles up </h3> </a> <p class="post-meta">Posted by <a href="#/board">{{board.email}}</a> {{board.uploadDate | date:\'yyyy-MM-dd\'}}</p> </div> <hr> </div> <ul class="pager"> <li class="next"> <a href="#/board">Older Posts &rarr;</a> </li> </ul> </div> </div> </div>'),a.put("views/login/login.html",'<div class="container login"> <div class="row"> <div class="col-md-4 col-md-offset-4"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Login via site</h3> </div> <div class="panel-body"> <form accept-charset="UTF-8" role="form" name="form" ng-submit="submit()" novalidate> <fieldset> <div class="input-group margin-bottom-sm" ng-class="{\'has-error\' : form.email.$invalid && !form.email.$pristine}"> <span class="input-group-addon"> <i class="fa fa-envelope-o fa-fw"></i> </span> <input class="form-control" type="text" placeholder="Email address" required autofocus ng-model="user.email"> </div> <div class="input-group" ng-class="{\'has-error\' : form.password.$invalid && !form.password.$pristine}"> <span class="input-group-addon"> <i class="fa fa-key fa-fw"></i> </span> <input class="form-control" type="password" placeholder="Password" required ng-model="user.password"> </div> <div class="checkbox"> <label> <input name="remember" type="checkbox" value="Remember Me"> Remember Me </label> <a class="pull-right" href="http://bootsnipp.com/password">Forgot password?</a> </div> <input class="btn btn-lg btn-success btn-block" type="submit" value="Login"> </fieldset> </form> <hr> <center> <!-- <h4>OR</h4> --> </center> <!-- <input class="btn btn-lg btn-facebook btn-block" ng-click="test()" value="Login via facebook"> --> <input class="btn btn-lg btn-signup btn-block" ng-click="signUp()" value="Sign Up"> </div> </div> </div> </div> </div>'),a.put("views/main/main.html",'<div class="container mainpage"> <div class="row text-center"> <div class="left-panel"> <div class="col-md-4" ng-repeat="board in boards"> <div class="panel panel-default"> <div class="panel-body"> <div class="thumbnail"> <a href="#"><img src="http://www.istanbluegayrimenkul.com/wp-content/uploads/2014/05/image6.jpg" alt=""></a> </div> <!-- a태그를 빼면 된다. --> <a href="#"> <h3>{{board.title}}</h3> </a> <!-- <p>{{board.content}}</p> --> <!-- {{board.title}} --> <!-- {{board.content}} --> </div> </div> </div> </div> </div> <!-- <div class="row text-center">\n      <div class="left-panel" >\n        <div class="col-md-4" ng-repeat="board in boards">\n          <div class="panel panel-default">\n            <div class="panel-body">\n              <div class="col-md-12">\n                <div class="thumbnail">\n                  <a href="#"><img src="http://www.istanbluegayrimenkul.com/wp-content/uploads/2014/05/image6.jpg" alt=""/></a>\n                </div>\n                <div class="icerik-bilgi">\n                  <a href="#">\n                    <h2>{{board.title}}</h2>\n                  </a>\n                  <p>{{board.content}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div> --> </div>'),a.put("views/signup/signup.html",'<div class="container signup"> <div class="row"> <div class="col-md-4 col-md-offset-4"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Create a new account</h3> </div> <div class="panel-body"> <form accept-charset="UTF-8" role="form" name="form" ng-submit="submit()" novalidate> <fieldset> <!-- Username --> <div class="input-group margin-bottom-sm"> <span class="input-group-addon"> <i class="fa fa-user fa-fw" aria-hidden="true"></i> </span> <input class="form-control" type="text" placeholder="Username" required autofocus ng-model="user.userName"> </div> <br> <!-- Your Email --> <div class="input-group margin-bottom-sm"> <span class="input-group-addon"> <i class="fa fa-envelope-o fa-fw"></i> </span> <input class="form-control" type="text" placeholder="Email address" required ng-model="user.email"> </div> <br> <!-- Password --> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-key fa-fw"></i> </span> <input class="form-control" type="password" placeholder="Password" required ng-model="user.password"> </div> <br> <!-- Confirm Password --> <div class="input-group"> <span class="input-group-addon"> <i class="fa fa-key fa-fw"></i> </span> <input class="form-control" type="password" placeholder="Confirm Password" required ng-model="user.confirmPassword"> </div> <br> <input class="btn btn-lg btn-success btn-block" type="submit" value="Create your account"> </fieldset> </form> </div> </div> </div> </div> </div>')}]);